<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  File: README
  
    &mdash; Documentation by YARD 0.9.5
  
</title>

  <link rel="stylesheet" href="css/style.css" type="text/css" charset="utf-8" />

  <link rel="stylesheet" href="css/common.css" type="text/css" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  pathId = "README";
  relpath = '';
</script>


  <script type="text/javascript" charset="utf-8" src="js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="file_list.html"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="_index.html">Index</a> &raquo; 
    <span class="title">File: README</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <iframe id="search_frame" src="file_list.html"></iframe>

      <div id="content"><div id='filecontents'>
<h1 id="label-TopMovies">TopMovies</h1>

<p>TopMovies is a console application to manipulate the data from the list of
top 250 IMDB movies.</p>

<h1 id="label-Usage">Usage</h1>

<h2 id="label-Installation">Installation</h2>

<p>$ gem install topmovies</p>

<p>Before you can use all the features of the library you want to connect a
data file with movies</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_file_name'>file_name</span> <span class='op'>=</span> <span class='const'>ARGV</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span> <span class='op'>||</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>../lib/topmovies/data/movies.txt</span><span class='tstring_end'>&#39;</span></span>
  <span class='kw'>if</span> <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_exist?'>exist?</span><span class='lparen'>(</span><span class='id identifier rubyid_file_name'>file_name</span><span class='rparen'>)</span>
    <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_open'>open</span><span class='lparen'>(</span><span class='id identifier rubyid_file_name'>file_name</span><span class='rparen'>)</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Ошибка. Файл отсутствует!</span><span class='tstring_end'>&#39;</span></span>
    <span class='id identifier rubyid_exit'>exit</span>
  <span class='kw'>end</span>
</code></pre>

<h4 id="label-MovieCollection">MovieCollection</h4>

<p>MovieCollection, created in the application, allows you to extract data and
show filtered and sorted lists of movies, based on different criteria, also
it can display any statistics on films.</p>

<pre class="code ruby"><code class="ruby"><span class='comment'># make collection of movies
</span>  <span class='id identifier rubyid_movies'>movies</span> <span class='op'>=</span> <span class='const'>TopMovies</span><span class='op'>::</span><span class='const'>MovieCollection</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid_file_name'>file_name</span><span class='rparen'>)</span>
  <span class='comment'># =&gt; &lt;TopMovies::MovieCollection:0x00000002ab6da8&gt;
</span>
  <span class='comment'>#show comedies
</span>  <span class='id identifier rubyid_movies'>movies</span><span class='period'>.</span><span class='id identifier rubyid_filter'>filter</span><span class='lparen'>(</span><span class='label'>genre:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Comedy</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
  <span class='comment'># =&gt; &lt;TopMovies::ModernMovie:0x00000002ff7038&gt;
</span>  <span class='comment'># =&gt; &lt;TopMovies::AncientMovie:0x00000002fdcaa8&gt;
</span>  <span class='comment'># =&gt; &lt;TopMovies::NewMovie:0x00000002fd5ca8&gt;
</span>  <span class='comment'># =&gt; ...
</span>
  <span class='comment'># show sorted list movies by year
</span>  <span class='id identifier rubyid_movies'>movies</span><span class='period'>.</span><span class='id identifier rubyid_sort_by'>sort_by</span><span class='lparen'>(</span><span class='symbol'>:year</span><span class='rparen'>)</span>
  <span class='comment'># =&gt; The Kid - 1921
</span>  <span class='comment'># =&gt; The Gold Rush - 1925
</span>  <span class='comment'># =&gt; The General - 1926
</span>  <span class='comment'># =&gt; Metropolis - 1927
</span>  <span class='comment'># =&gt;  ...
</span>
  <span class='comment'># show count of movies maked each author
</span>  <span class='id identifier rubyid_movies'>movies</span><span class='period'>.</span><span class='id identifier rubyid_stats'>stats</span><span class='lparen'>(</span><span class='symbol'>:author</span><span class='rparen'>)</span>
  <span class='comment'># =&gt; {&quot;Adam Elliot&quot;=&gt;1, &quot;Akira Kurosawa&quot;=&gt;6, &quot;Alejandro González Iñárritu&quot;=&gt;1, ... }
</span>
  <span class='comment'># get first movie
</span>  <span class='id identifier rubyid_movie'>movie</span> <span class='op'>=</span> <span class='id identifier rubyid_movies'>movies</span><span class='period'>.</span><span class='id identifier rubyid_all'>all</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span>

  <span class='comment'># number famous actors played in this movie
</span>  <span class='id identifier rubyid_movie'>movie</span><span class='period'>.</span><span class='id identifier rubyid_actors'>actors</span><span class='period'>.</span><span class='id identifier rubyid_count'>count</span>
  <span class='comment'># =&gt; 3
</span>
  <span class='comment'># Arnold Shwarzenegger played in this movie
</span>  <span class='id identifier rubyid_movie'>movie</span><span class='period'>.</span><span class='id identifier rubyid_actors'>actors</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Arnold Shwarzenegger</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
  <span class='comment'># =&gt; false
</span></code></pre>

<h4 id="label-Cinema">Cinema</h4>

<p>Netflix and Theatre are cinemas based on MovieCollection have cashboxes
that can accept payments and sell tickets.</p>

<h5 id="label-Netflix">Netflix</h5>

<pre class="code ruby"><code class="ruby"><span class='comment'># make online cinema Netflix
</span>  <span class='id identifier rubyid_online'>online</span> <span class='op'>=</span> <span class='const'>TopMovies</span><span class='op'>::</span><span class='const'>Netflix</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid_file_name'>file_name</span><span class='rparen'>)</span>
  <span class='comment'># =&gt; #&lt;TopMovies::Netflix:0x000000021e0558&gt;
</span>
  <span class='comment'># show newest Drama
</span>  <span class='id identifier rubyid_online'>online</span><span class='period'>.</span><span class='id identifier rubyid_show'>show</span><span class='lparen'>(</span><span class='label'>genre:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Drama</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>period:</span> <span class='symbol'>:new</span><span class='rparen'>)</span>
  <span class='comment'># =&gt; Downfall — новинка, вышло 12 лет назад!
</span>
  <span class='comment'># create component filter
</span>  <span class='id identifier rubyid_movies'>movies</span> <span class='op'>=</span> <span class='id identifier rubyid_online'>online</span><span class='period'>.</span><span class='id identifier rubyid_show'>show</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_movie'>movie</span><span class='op'>|</span>
    <span class='op'>!</span><span class='id identifier rubyid_movie'>movie</span><span class='period'>.</span><span class='id identifier rubyid_title'>title</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Terminator</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span> <span class='op'>&amp;&amp;</span> \
      <span class='id identifier rubyid_movie'>movie</span><span class='period'>.</span><span class='id identifier rubyid_genre'>genre</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Action</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span> <span class='op'>&amp;&amp;</span> \
      <span class='id identifier rubyid_movie'>movie</span><span class='period'>.</span><span class='id identifier rubyid_year'>year</span> <span class='op'>&gt;</span> <span class='int'>2003</span>
  <span class='kw'>end</span>
  <span class='comment'># genre of movies is Action and not have Terminator and newer 2003
</span>  <span class='comment'># =&gt; Elite Squad: The Enemy Within — новинка, вышло 6 лет назад!
</span>
  <span class='comment'># put cash to cashbox of Netflix
</span>  <span class='id identifier rubyid_online'>online</span><span class='period'>.</span><span class='id identifier rubyid_pay'>pay</span><span class='lparen'>(</span><span class='int'>35</span><span class='rparen'>)</span>
  <span class='comment'># =&gt; 35.00
</span></code></pre>

<h5 id="label-Theatre">Theatre</h5>

<pre class="code ruby"><code class="ruby"><span class='comment'># make usual cinema Theatre
</span>  <span class='id identifier rubyid_theatre'>theatre</span> <span class='op'>=</span>
    <span class='const'>TopMovies</span><span class='op'>::</span><span class='const'>Theatre</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span> <span class='kw'>do</span>
      <span class='id identifier rubyid_hall'>hall</span> <span class='symbol'>:red</span><span class='comma'>,</span> <span class='label'>title:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Красный зал</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>places:</span> <span class='int'>100</span>
      <span class='id identifier rubyid_hall'>hall</span> <span class='symbol'>:blue</span><span class='comma'>,</span> <span class='label'>title:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Синий зал</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>places:</span> <span class='int'>50</span>
      <span class='id identifier rubyid_hall'>hall</span> <span class='symbol'>:green</span><span class='comma'>,</span> <span class='label'>title:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Зелёный зал (deluxe)</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>places:</span> <span class='int'>12</span>

      <span class='id identifier rubyid_period'>period</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>09:00</span><span class='tstring_end'>&#39;</span></span><span class='op'>..</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>12:00</span><span class='tstring_end'>&#39;</span></span> <span class='kw'>do</span>
        <span class='id identifier rubyid_description'>description</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Утренний сеанс</span><span class='tstring_end'>&#39;</span></span>
        <span class='id identifier rubyid_filters'>filters</span> <span class='label'>genre:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Comedy</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>year:</span> <span class='int'>1900</span><span class='op'>..</span><span class='int'>1980</span>
        <span class='id identifier rubyid_price'>price</span> <span class='int'>10</span>
        <span class='id identifier rubyid_hall'>hall</span> <span class='symbol'>:red</span><span class='comma'>,</span> <span class='symbol'>:blue</span>
      <span class='kw'>end</span>

      <span class='id identifier rubyid_period'>period</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>12:00</span><span class='tstring_end'>&#39;</span></span><span class='op'>..</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>16:00</span><span class='tstring_end'>&#39;</span></span> <span class='kw'>do</span>
        <span class='id identifier rubyid_description'>description</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Спецпоказ</span><span class='tstring_end'>&#39;</span></span>
        <span class='id identifier rubyid_title'>title</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>The Terminator</span><span class='tstring_end'>&#39;</span></span>
        <span class='id identifier rubyid_price'>price</span> <span class='int'>50</span>
        <span class='id identifier rubyid_hall'>hall</span> <span class='symbol'>:green</span>
      <span class='kw'>end</span>

      <span class='id identifier rubyid_period'>period</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>16:00</span><span class='tstring_end'>&#39;</span></span><span class='op'>..</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>20:00</span><span class='tstring_end'>&#39;</span></span> <span class='kw'>do</span>
        <span class='id identifier rubyid_description'>description</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Вечерний сеанс</span><span class='tstring_end'>&#39;</span></span>
        <span class='id identifier rubyid_filters'>filters</span> <span class='label'>genre:</span> <span class='qwords_beg'>%w(</span><span class='tstring_content'>Action</span><span class='words_sep'> </span><span class='tstring_content'>Drama</span><span class='words_sep'>)</span><span class='comma'>,</span> <span class='label'>year:</span> <span class='int'>2007</span><span class='op'>..</span><span class='const'>Time</span><span class='period'>.</span><span class='id identifier rubyid_now'>now</span><span class='period'>.</span><span class='id identifier rubyid_year'>year</span>
        <span class='id identifier rubyid_price'>price</span> <span class='int'>20</span>
        <span class='id identifier rubyid_hall'>hall</span> <span class='symbol'>:red</span><span class='comma'>,</span> <span class='symbol'>:blue</span>
      <span class='kw'>end</span>

      <span class='id identifier rubyid_period'>period</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>19:00</span><span class='tstring_end'>&#39;</span></span><span class='op'>..</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>22:00</span><span class='tstring_end'>&#39;</span></span> <span class='kw'>do</span>
        <span class='id identifier rubyid_description'>description</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Вечерний сеанс для киноманов</span><span class='tstring_end'>&#39;</span></span>
        <span class='id identifier rubyid_filters'>filters</span> <span class='label'>year:</span> <span class='int'>1900</span><span class='op'>..</span><span class='int'>1945</span><span class='comma'>,</span> <span class='label'>exclude_country:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>USA</span><span class='tstring_end'>&#39;</span></span>
        <span class='id identifier rubyid_price'>price</span> <span class='int'>30</span>
        <span class='id identifier rubyid_hall'>hall</span> <span class='symbol'>:green</span>
      <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='comment'># =&gt; &lt;TopMovies::Netflix:0x000000011152a0&gt;
</span>
  <span class='comment'># you can add period into Theatre
</span>  <span class='id identifier rubyid_theatre'>theatre</span><span class='period'>.</span><span class='id identifier rubyid_period'>period</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>21:00</span><span class='tstring_end'>&#39;</span></span><span class='op'>..</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>23:00</span><span class='tstring_end'>&#39;</span></span> <span class='kw'>do</span>
    <span class='id identifier rubyid_description'>description</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Еще один сеанс</span><span class='tstring_end'>&#39;</span></span>
    <span class='id identifier rubyid_filters'>filters</span> <span class='label'>genre:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Sci-Fi</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>year:</span> <span class='int'>1900</span><span class='op'>..</span><span class='int'>1980</span>
    <span class='id identifier rubyid_price'>price</span> <span class='int'>13</span>
    <span class='id identifier rubyid_hall'>hall</span> <span class='symbol'>:red</span>
  <span class='kw'>end</span>

  <span class='comment'># you can buy a ticket
</span>  <span class='id identifier rubyid_theatre'>theatre</span><span class='period'>.</span><span class='id identifier rubyid_buy_ticket'>buy_ticket</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>10:20</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
  <span class='comment'># =&gt; Утренний сеанс - 09:00..12:00 : Фильм: The Gold Rush - 10.00 ₴
</span>  <span class='id identifier rubyid_theatre'>theatre</span><span class='period'>.</span><span class='id identifier rubyid_buy_ticket'>buy_ticket</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>13:20</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
  <span class='comment'># =&gt; Спецпоказ - 12:00..16:00 : Фильм: The Terminator - 50.00 ₴
</span>  <span class='id identifier rubyid_theatre'>theatre</span><span class='period'>.</span><span class='id identifier rubyid_buy_ticket'>buy_ticket</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>17:20</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
  <span class='comment'># =&gt; Вечерний сеанс - 16:00..20:00 : Фильм: Interstellar - 20.00 ₴
</span>  <span class='id identifier rubyid_theatre'>theatre</span><span class='period'>.</span><span class='id identifier rubyid_buy_ticket'>buy_ticket</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>19:20</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>hall:</span> <span class='symbol'>:green</span><span class='rparen'>)</span>
  <span class='comment'># =&gt; Вечерний сеанс для киноманов - 19:00..22:00 : Фильм: The Maltese Falcon - 30.00 ₴
</span>
  <span class='comment'># if you want you can check the money in cashbox of Theatre
</span>  <span class='id identifier rubyid_theatre'>theatre</span><span class='period'>.</span><span class='id identifier rubyid_cash'>cash</span>
  <span class='comment'># =&gt; 110.00
</span>
  <span class='comment'># yet you can spend cash collection into cashbox of Theatre
</span>  <span class='id identifier rubyid_theatre'>theatre</span><span class='period'>.</span><span class='id identifier rubyid_take'>take</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Bank</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
  <span class='comment'># =&gt; Проведена инкассация
</span>  <span class='comment'># =&gt; 0.00
</span></code></pre>

<h4 id="label-Additional+info">Additional info</h4>

<p>In addition, the application can get the budget for each film with IMDb
site, extract the posters and film title translation into other languages
with TMDB site, and renders html page with all the movies.</p>

<pre class="code ruby"><code class="ruby"><span class='comment'># get the film&#39;s budget
</span>  <span class='id identifier rubyid_movie'>movie</span> <span class='op'>=</span> <span class='id identifier rubyid_movies'>movies</span><span class='period'>.</span><span class='id identifier rubyid_all'>all</span><span class='lbracket'>[</span><span class='int'>112</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_movie'>movie</span><span class='period'>.</span><span class='id identifier rubyid_budget'>budget</span>
  <span class='comment'># =&gt; $14,400,000
</span>
  <span class='comment'># get a poster for the film
</span>  <span class='id identifier rubyid_movie'>movie</span> <span class='op'>=</span> <span class='id identifier rubyid_movies'>movies</span><span class='period'>.</span><span class='id identifier rubyid_filter'>filter</span><span class='lparen'>(</span><span class='label'>title:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Terminator</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_movie'>movie</span><span class='period'>.</span><span class='id identifier rubyid_poster'>poster</span>


  <span class='comment'># receive translations of the film in other language
</span>  <span class='id identifier rubyid_movie'>movie</span> <span class='op'>=</span> <span class='id identifier rubyid_movies'>movies</span><span class='period'>.</span><span class='id identifier rubyid_filter'>filter</span><span class='lparen'>(</span><span class='label'>title:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>12 Angry Men</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_movie'>movie</span><span class='period'>.</span><span class='id identifier rubyid_translations'>translations</span>

  <span class='comment'># create HTML markup
</span>  <span class='id identifier rubyid_movies'>movies</span><span class='period'>.</span><span class='id identifier rubyid_render_html'>render_html</span>
  <span class='comment'># =&gt; html markup
</span></code></pre>

<p>Other methods for manipulating data list IMDB top 250 films described to
documentation</p>

<h2 id="label-Author">Author</h2>

<p>Serhii Dmytrakov <a href="mailto:clamdm@mail.ru">clamdm@mail.ru</a></p>
</div></div>

      <div id="footer">
  Generated on Sun Oct 23 18:17:27 2016 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.5 (ruby-2.3.0).
</div>

    </div>
  </body>
</html>